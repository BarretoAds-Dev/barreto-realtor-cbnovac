---
import userData from "../data/user.json";

const { profileData, links} = userData;

---

<article class="grid gap-4 p-4 rounded-md place-items-center bg-bodydark">
    <!-- Perfil Optimizado -->
        <video
            autoplay
            muted
            loop
            playsinline
            preload="metadata"
            class="object-cover aspect-auto w-28 h-28 rounded-full overflow-hidden border-8 border-solid border-bodydark relative bg-cover bg-center p-0 m-0"
            aria-label={`Video de perfil de ${profileData.profileName}`}
            oncanplay="this.style.backgroundImage = 'none';"
            style={{ backgroundImage: `url('${profileData.profileVideo.placeholder}')` }}
          >
              <source
                  src={profileData.profileVideo.src}
                  type="video/mp4"
              />Tu navegador no soporta videos en formato MP4.
        </video>
    
    <!-- Status en lÃ­nea -->
        <div class="flex justify-center items-center gap-2 bg-black text-gray-400 text-xs italic py-2 px-4 rounded-full">
            <span class="h-2 w-2 bg-green-400 rounded-full animate-pulse"></span>
            <span>{profileData.onlineStatusText}</span>
        </div>
    
    <!-- Profile Name -->
    <div class="w-full grid grid-cols-1 place-content-center gap-2">
        {links.slice(0, 1).map((link) => (
          <div class="flex flex-col items-center gap-2">
            <span class="flex items-center gap-2 text-2xl text-center font-bold">
              {link.title}
              <span class="inline-flex w-5 h-5 mt-1" set:html={link.icon}></span>
            </span>
            <h1 class="text-xs text-gray-400">
                Asesor Inmobiliario en CDMX | MX.
            </h1>
          </div>
        ))}
      </div>
    
    
    <!-- Btn Redes Sociales -->
        <div class="flex flex-row justify-center items-center gap-2">
          {links.slice(2, 6).map((link) => (
            <a
              href={link.url}
              class="flex justify-center items-center p-2 bg-slate-700 rounded-md transition-colors duration-300 hover:bg-slate-800"
              aria-label={link.description}
              target="_blank"
              rel="noopener noreferrer"
            >
               <span class="w-6 h-6" set:html={link.icon}></span>
            </a>
          ))}
        </div>
    
    <!-- Profile Description -->
        <div class="w-full text-center">
            <h2 class="font-normal">
                {profileData.roleDescription}
            </h2>
        </div>
    
    <!-- Location Tags (Carrusel Infinito) -->
    <div class="overflow-hidden w-full max-w-xs mx-auto">
        <div class="flex animate-scroll" style="animation: scroll 35s linear infinite; width: max-content;">
          {profileData.locationTags.concat(profileData.locationTags).map((tag, index) => (
            <h3
              class="flex-shrink-0 p-1 text-xs font-normal italic text-center text-gray-300 m-0"
              style={{ minWidth: 'auto', padding: '0 0.5rem' }}
            >
              -{tag}-
            </h3>
          ))}
        </div>
      </div>
    
    
    
       <!-- Btn Links -->
       <div class="w-full grid grid-cols-1 gap-2 place-content-center ">
        {links.slice(6,7).map((link, index) => (
          <a
            href={link.url}
            class="flex justify-center items-center gap-2 p-6 bg-slate-700 text-center hover:bg-gray-600 rounded-lg transition-colors duration-300 text-sm  border-s-blue-500 border-solid border-t-0 border-b-0 border-e-0 font-bold"
            aria-label={link.description}
            target="_blank"
            rel="noopener noreferrer"
          > 
              {link.title}
          </a>
        ))}
      </div>
    
    
    </article>